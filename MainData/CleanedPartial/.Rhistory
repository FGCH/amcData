library(googleVis)
library(reshape)
setwd("/git_repositories/amc-site/BaseMaps/")
# Load most recent data
URL <- "https://raw.github.com/christophergandrud/amcData/master/MainData/amcCountryYear.csv"
setwd("/git_repositories/amc-site/BaseMaps/")
# Load most recent data
URL <- "https://raw.github.com/christophergandrud/amcData/master/MainData/amcCountryYear.csv"
Full <- getURL(URL)
Full <- read.csv(textConnection(Full))
Russian <- subset(Full, country == "Russia")
rstudio::viewData(Full)
Russian <- subset(Full, country == "RUSSIAN FEDERATION")
rstudio::viewData(Russian)
Full <- rename(Full, c(NumAMCCountryNoNA = "TotalAmcCreated"))
#### Function to produce maps ####
MapAMC <- function(y){
yearTemp <- y
TempMap <-  gvisGeoMap(subset(Full, year == yearTemp & TotalAmcCreated != 0),
locationvar = "ISOCode", numvar = "TotalAmcCreated",
options = list(
colors = "[0xECE7F2, 0xA6BDDB, 0x2B8CBE]",
width = "780px",
height = "500px"
))
print(TempMap, file = paste("AMCMap", yearTemp, ".html", sep = ""), tag = "chart")
}
(MapAMC, y = 2005)
MapAMC(2005)
Test2005 <- MapAMC(2005)
plot(Test2005)
plot(Test2005, "chart")
fix(Test2005)
install.packages(c("Amelia", "effects", "quantreg", "sp", "tables", "tabplot", "timereg", "tonymisc"))
source_url("https://raw.github.com/christophergandrud/amcData/master/SourceCode/Paper1Source/LoadRPackages.R")
library(devtools)
source_url("https://raw.github.com/christophergandrud/amcData/master/SourceCode/Paper1Source/LoadRPackages.R")
source_url("https://raw.github.com/christophergandrud/amcData/master/SourceCode/Paper1Source/PaperDataLoadClean.R")
rstudio::viewData(NotNaAMCType)
# Number operating by type
SumOp <- ddply(NotNaAMCType, .(year, AMCType), function(x) sum(x$NumAMCOpNoNA))
SumOp <- subset(SumOp, AMCType !=  "?")
SumOp <- subset(SumOp, AMCType !=  "None")
rstudio::viewData(NotNaAMCType)
NotNaAMCType$Marker[NotNaAMCType$NumAMCOpNoNA >= 1] <- 1
rstudio::viewData(NotNaAMCType)
SumOp <- ddply(NotNaAMCType, .(year, AMCType), function(x) sum(x$Marker))
SumOp <- subset(SumOp, AMCType !=  "?")
SumOp <- subset(SumOp, AMCType !=  "None")
rstudio::viewData(SumOp)
OperatingPlot <- ggplot(data = SumOp, aes(year, V1)) +
geom_vline(xintercept = c(1991, 1997, 2008), linetype = "dashed", size = 0.5) +
geom_line(aes(color = AMCType), size = 2, alpha = I(0.9)) +
scale_color_manual(values = TypeColors, name="") +
scale_x_continuous(limits = c(1980, 2011)) +
xlab("") + ylab("Number Operating\n") +
theme_bw(base_size = 15)
print(OperatingPlot)
TypeColors <- c("#E6AB02", "#1B9E77")
OperatingPlot <- ggplot(data = SumOp, aes(year, V1)) +
geom_vline(xintercept = c(1991, 1997, 2008), linetype = "dashed", size = 0.5) +
geom_line(aes(color = AMCType), size = 2, alpha = I(0.9)) +
scale_color_manual(values = TypeColors, name="") +
scale_x_continuous(limits = c(1980, 2011)) +
xlab("") + ylab("Number Operating\n") +
theme_bw(base_size = 15)
print(OperatingPlot)
OperatingPlot <- ggplot(data = SumOp, aes(year, V1)) +
geom_vline(xintercept = c(1991, 1997, 2008), linetype = "dashed", size = 0.5) +
geom_line(aes(color = AMCType), size = 2, alpha = I(0.9)) +
#scale_color_manual(values = TypeColors, name="") +
scale_x_continuous(limits = c(1980, 2011)) +
xlab("") + ylab("Number Operating\n") +
theme_bw(base_size = 15)
print(OperatingPlot)
rstudio::viewData(SumOp)
rstudio::viewData(SumOp)
rstudio::viewData(NotNaAMCType)
SumOp <- subset(NotNaAMCType, AMCType !=  "?")
SumOp <- subset(SumOp, AMCType !=  "None")
SumOp$Marker[SumOp$NumAMCOpNoNA >= 1] <- 1
SumOp <- ddply(SumOp, .(year, AMCType), function(x) sum(x$Marker))
OperatingPlot <- ggplot(data = SumOp, aes(year, V1)) +
geom_vline(xintercept = c(1991, 1997, 2008), linetype = "dashed", size = 0.5) +
geom_line(aes(color = AMCType), size = 2, alpha = I(0.9)) +
#scale_color_manual(values = TypeColors, name="") +
scale_x_continuous(limits = c(1980, 2011)) +
xlab("") + ylab("Number Operating\n") +
theme_bw(base_size = 15)
print(OperatingPlot)
rstudio::viewData(SumOp)
SumOp <- subset(NotNaAMCType, AMCType !=  "?")
SumOp <- subset(SumOp, AMCType !=  "None")
rstudio::viewData(SumOp)
Zero <- subset(SumOp, NumAMCOpNoNA == 0)
rstudio::viewData(Zero)
Zero <- subset(SumOp, is.na(NumAMCOpNoNA))
source_url("https://raw.github.com/christophergandrud/amcData/master/SourceCode/Paper1Source/PaperDataLoadClean.R")
# Number operating by type
SumOp <- subset(NotNaAMCType, AMCType !=  "?")
SumOp <- subset(SumOp, AMCType !=  "None")
SumOp$Marker[SumOp$NumAMCOpNoNA >= 1] <- 1
SumOp <- ddply(SumOp, .(year, AMCType), function(x) sum(x$Marker))
OperatingPlot <- ggplot(data = SumOp, aes(year, V1)) +
geom_vline(xintercept = c(1991, 1997, 2008), linetype = "dashed", size = 0.5) +
geom_line(aes(color = AMCType), size = 2, alpha = I(0.9)) +
#scale_color_manual(values = TypeColors, name="") +
scale_x_continuous(limits = c(1980, 2011)) +
xlab("") + ylab("Number Operating\n") +
theme_bw(base_size = 15)
print(OperatingPlot)
rstudio::viewData(SumOp)
SumOp <- subset(NotNaAMCType, AMCType !=  "?")
SumOp <- subset(SumOp, AMCType !=  "None")
rstudio::viewData(SumOp)
source_url("https://raw.github.com/christophergandrud/amcData/master/SourceCode/Paper1Source/LoadRPackages.R")
source_url("https://raw.github.com/christophergandrud/amcData/master/SourceCode/Paper1Source/PaperDataLoadClean.R")
# Number operating by type
SumOp <- subset(NotNaAMCType, AMCType !=  "?")
SumOp <- subset(SumOp, AMCType !=  "None")
SumOp$Marker[SumOp$NumAMCOpNoNA >= 1] <- 1
SumOp <- ddply(SumOp, .(year, AMCType), function(x) sum(x$Marker))
OperatingPlot <- ggplot(data = SumOp, aes(year, V1)) +
geom_vline(xintercept = c(1991, 1997, 2008), linetype = "dashed", size = 0.5) +
geom_line(aes(color = AMCType), size = 2, alpha = I(0.9)) +
#scale_color_manual(values = TypeColors, name="") +
scale_x_continuous(limits = c(1980, 2011)) +
xlab("") + ylab("Number Operating\n") +
theme_bw(base_size = 15)
print(OperatingPlot)
rstudio::viewData(SumOp)
#########
# Make amcData Data Set
# Christopher Gandrud
# Updated 7 November 2012
#########
# Install required packages
## Code based on https://gist.github.com/3710171
## See also http://bit.ly/PbabKd
doInstall <- FALSE  # Change to FALSE if you don't want packages installed.
toInstall <- c("WDI", "countrycode", "devtools", "reshape", "gdata", "xtable")
if(doInstall){install.packages(toInstall, repos = "http://cran.us.r-project.org")}
# Run clean up files
setwd("/git_repositories/amcData/SourceCode/DataCreation/CleanIndividualData/")
source("AddAMCFull.R")
setwd("/git_repositories/amcData/SourceCode/DataCreation/CleanIndividualData/")
source("AddLVFullCrisisYears.R")
setwd("/git_repositories/amcData/SourceCode/DataCreation/CleanIndividualData/")
source("AddLV.R")
setwd("/git_repositories/amcData/SourceCode/DataCreation/CleanIndividualData/")
source("AddDPIVariables.R")
setwd("/git_repositories/amcData/SourceCode/DataCreation/CleanIndividualData/")
source("AddUDSVariable.R")
setwd("/git_repositories/amcData/SourceCode/DataCreation/CleanIndividualData/")
source("AddWorldBank.R")
setwd("/git_repositories/amcData/SourceCode/DataCreation/CleanIndividualData/")
source("AddDreherIMF.R")
# Create merged data set
## Country-Year data
setwd("/git_repositories/amcData/SourceCode/DataCreation/Merge/")
source("MergeSurvival.R")
# Tidy workspace
rm(list = setdiff(ls(), "amcCountryYear"))
source_url("https://raw.github.com/christophergandrud/amcData/master/SourceCode/Paper1Source/PaperDataLoadClean.R")
source_url("https://raw.github.com/christophergandrud/amcData/master/SourceCode/Paper1Source/PaperDataLoadClean.R")
# Number operating by type
SumOp <- subset(NotNaAMCType, AMCType !=  "?")
SumOp <- subset(SumOp, AMCType !=  "None")
SumOp$Marker[SumOp$NumAMCOpNoNA >= 1] <- 1
SumOp <- ddply(SumOp, .(year, AMCType), function(x) sum(x$Marker))
OperatingPlot <- ggplot(data = SumOp, aes(year, V1)) +
geom_vline(xintercept = c(1991, 1997, 2008), linetype = "dashed", size = 0.5) +
geom_line(aes(color = AMCType), size = 2, alpha = I(0.9)) +
#scale_color_manual(values = TypeColors, name="") +
scale_x_continuous(limits = c(1980, 2011)) +
xlab("") + ylab("Number Operating\n") +
theme_bw(base_size = 15)
print(OperatingPlot)
rstudio::viewData(SumOp)
SumOp <- subset(NotNaAMCType, AMCType !=  "?")
SumOp <- subset(SumOp, AMCType !=  "None")
rstudio::viewData(SumOp)
Zero <- subset(SumOp, NumAMCOpNoNA == 0)
rstudio::viewData(Zero)
#########
# Make amcData Data Set
# Christopher Gandrud
# Updated 7 November 2012
#########
# Install required packages
## Code based on https://gist.github.com/3710171
## See also http://bit.ly/PbabKd
doInstall <- FALSE  # Change to FALSE if you don't want packages installed.
toInstall <- c("WDI", "countrycode", "devtools", "reshape", "gdata", "xtable")
if(doInstall){install.packages(toInstall, repos = "http://cran.us.r-project.org")}
# Run clean up files
setwd("/git_repositories/amcData/SourceCode/DataCreation/CleanIndividualData/")
source("AddAMCFull.R")
setwd("/git_repositories/amcData/SourceCode/DataCreation/CleanIndividualData/")
source("AddLVFullCrisisYears.R")
setwd("/git_repositories/amcData/SourceCode/DataCreation/CleanIndividualData/")
source("AddLV.R")
setwd("/git_repositories/amcData/SourceCode/DataCreation/CleanIndividualData/")
source("AddDPIVariables.R")
setwd("/git_repositories/amcData/SourceCode/DataCreation/CleanIndividualData/")
source("AddUDSVariable.R")
setwd("/git_repositories/amcData/SourceCode/DataCreation/CleanIndividualData/")
source("AddWorldBank.R")
setwd("/git_repositories/amcData/SourceCode/DataCreation/CleanIndividualData/")
source("AddDreherIMF.R")
# Create merged data set
## Country-Year data
setwd("/git_repositories/amcData/SourceCode/DataCreation/Merge/")
source("MergeSurvival.R")
# Tidy workspace
rm(list = setdiff(ls(), "amcCountryYear"))
source_url("https://raw.github.com/christophergandrud/amcData/master/SourceCode/Paper1Source/PaperDataLoadClean.R")
#### Cumulative Count ####
TypeColors <- c("#E6AB02", "#1B9E77")
# Number operating by type
SumOp <- subset(NotNaAMCType, AMCType !=  "?")
SumOp <- subset(SumOp, AMCType !=  "None")
SumOp$Marker[SumOp$NumAMCOpNoNA >= 1] <- 1
SumOp <- ddply(SumOp, .(year, AMCType), function(x) sum(x$Marker))
OperatingPlot <- ggplot(data = SumOp, aes(year, V1)) +
geom_vline(xintercept = c(1991, 1997, 2008), linetype = "dashed", size = 0.5) +
geom_line(aes(color = AMCType), size = 2, alpha = I(0.9)) +
#scale_color_manual(values = TypeColors, name="") +
scale_x_continuous(limits = c(1980, 2011)) +
xlab("") + ylab("Number Operating\n") +
theme_bw(base_size = 15)
print(OperatingPlot)
source_url("https://raw.github.com/christophergandrud/amcData/master/SourceCode/Paper1Source/PaperDataLoadClean.R")
# Number operating by type
SumOp <- subset(NotNaAMCType, AMCType !=  "?")
SumOp <- subset(SumOp, AMCType !=  "None")
SumOp$Marker[SumOp$NumAMCOpNoNA >= 1] <- 1
SumOp <- ddply(SumOp, .(year, AMCType), function(x) sum(x$Marker))
OperatingPlot <- ggplot(data = SumOp, aes(year, V1)) +
geom_vline(xintercept = c(1991, 1997, 2008), linetype = "dashed", size = 0.5) +
geom_line(aes(color = AMCType), size = 2, alpha = I(0.9)) +
#scale_color_manual(values = TypeColors, name="") +
scale_x_continuous(limits = c(1980, 2011)) +
xlab("") + ylab("Number Operating\n") +
theme_bw(base_size = 15)
print(OperatingPlot)
OperatingPlot <- ggplot(data = SumOp, aes(year, V1)) +
geom_vline(xintercept = c(1991, 1997, 2008), linetype = "dashed", size = 0.5) +
geom_line(aes(color = AMCType), size = 2, alpha = I(0.9), name="") +
#scale_color_manual(values = TypeColors, name="") +
scale_x_continuous(limits = c(1980, 2011)) +
xlab("") + ylab("Number of Countries\n") +
theme_bw(base_size = 15)
print(OperatingPlot)
OperatingPlot <- ggplot(data = SumOp, aes(year, V1)) +
geom_vline(xintercept = c(1991, 1997, 2008), linetype = "dashed", size = 0.5) +
geom_line(aes(color = AMCType), size = 2, alpha = I(0.9)) +
guides(fill=guide_legend(title=NULL)) +
scale_x_continuous(limits = c(1980, 2011)) +
xlab("") + ylab("Number of Countries\n") +
theme_bw(base_size = 15)
print(OperatingPlot)
OperatingPlot <- ggplot(data = SumOp, aes(year, V1)) +
geom_vline(xintercept = c(1991, 1997, 2008), linetype = "dashed", size = 0.5) +
geom_line(aes(color = AMCType), size = 2, alpha = I(0.9), lty = 1) +
guides(fill = guide_legend(title=NULL)) +
scale_x_continuous(limits = c(1980, 2011)) +
xlab("") + ylab("Number of Countries\n") +
theme_bw(base_size = 15)
print(OperatingPlot)
OperatingPlot <- ggplot(data = SumOp, aes(year, V1)) +
geom_vline(xintercept = c(1991, 1997, 2008), linetype = "dashed", size = 0.5) +
geom_line(aes(color = AMCType), size = 2, alpha = I(0.9), lty = 1) +
guides(fill = guide_legend(title=NULL)) +
scale_x_continuous(limits = c(1980, 2011)) +
xlab("") + ylab("Number of Countries\n") +
theme_bw(base_size = 15)
print(OperatingPlot)
rstudio::viewData(SumOp)
OperatingPlot <- ggplot(data = SumOp, aes(year, V1)) +
geom_vline(xintercept = c(1991, 1997, 2008), linetype = "dashed", size = 0.5) +
geom_line(aes(color = AMCType, linetype = AMCType), size = 2, alpha = I(0.9)) +
guides(fill = guide_legend(title=NULL)) +
scale_x_continuous(limits = c(1980, 2011)) +
xlab("") + ylab("Number of Countries\n") +
theme_bw(base_size = 15)
print(OperatingPlot)
OperatingPlot <- ggplot(data = SumOp, aes(year, V1)) +
geom_vline(xintercept = c(1991, 1997, 2008), linetype = "dashed", size = 0.5) +
geom_line(aes(color = AMCType, linetype = AMCType), size = 2, alpha = I(0.9), lty = 3) +
guides(fill = guide_legend(title=NULL)) +
scale_x_continuous(limits = c(1980, 2011)) +
xlab("") + ylab("Number of Countries\n") +
theme_bw(base_size = 15)
print(OperatingPlot)
OperatingPlot <- ggplot(data = SumOp, aes(year, V1)) +
geom_vline(xintercept = c(1991, 1997, 2008), linetype = "dashed", size = 0.5) +
geom_line(aes(color = AMCType, linetype = AMCType), size = 2, alpha = I(0.9)) +
scale_fill_discrete(name = "")
scale_x_continuous(limits = c(1980, 2011)) +
xlab("") + ylab("Number of Countries\n") +
theme_bw(base_size = 15)
print(OperatingPlot)
OperatingPlot <- ggplot(data = SumOp, aes(year, V1)) +
geom_vline(xintercept = c(1991, 1997, 2008), linetype = "dashed", size = 0.5) +
geom_line(aes(color = AMCType, linetype = AMCType), size = 2, alpha = I(0.9)) +
scale_fill_discrete(name = "") +
scale_x_continuous(limits = c(1980, 2011)) +
xlab("") + ylab("Number of Countries\n") +
theme_bw(base_size = 15)
print(OperatingPlot)
OperatingPlot <- ggplot(data = SumOp, aes(year, V1)) +
geom_vline(xintercept = c(1991, 1997, 2008), linetype = "dashed", size = 0.5) +
geom_line(aes(color = AMCType, linetype = AMCType), size = 2, alpha = I(0.9)) +
scale_color_discrete(name = "") +
scale_x_continuous(limits = c(1980, 2011)) +
xlab("") + ylab("Number of Countries\n") +
theme_bw(base_size = 15)
print(OperatingPlot)
OperatingPlot <- ggplot(data = SumOp, aes(year, V1)) +
geom_vline(xintercept = c(1991, 1997, 2008), linetype = "dashed", size = 0.5) +
geom_line(aes(color = AMCType, linetype = AMCType), size = 2, alpha = I(0.9)) +
scale_color_discrete(name = "") +
scale_linetype_discrete(name = "") +
scale_x_continuous(limits = c(1980, 2011)) +
xlab("") + ylab("Number of Countries\n") +
theme_bw(base_size = 15)
print(OperatingPlot)
OperatingPlot <- ggplot(data = SumOp, aes(year, V1)) +
geom_vline(xintercept = c(1991, 1997, 2008), size = 0.5) +
geom_line(aes(color = AMCType, linetype = AMCType), size = 2, alpha = I(0.9)) +
scale_color_discrete(name = "") +
scale_linetype_discrete(name = "") +
scale_x_continuous(limits = c(1980, 2011)) +
xlab("") + ylab("Number of Countries\n") +
theme_bw(base_size = 15)
print(OperatingPlot)
OperatingPlot <- ggplot(data = SumOp, aes(year, V1)) +
geom_vline(xintercept = c(1991, 1997, 2008), size = 0.5), colour = "#DEDEDE" +
geom_line(aes(color = AMCType, linetype = AMCType), size = 2, alpha = I(0.9)) +
scale_color_discrete(name = "") +
scale_linetype_discrete(name = "") +
scale_x_continuous(limits = c(1980, 2011)) +
xlab("") + ylab("Number of Countries\n") +
theme_bw(base_size = 15)
print(OperatingPlot)
OperatingPlot <- ggplot(data = SumOp, aes(year, V1)) +
geom_vline(xintercept = c(1991, 1997, 2008), size = 0.5), colour = "#DEDEDE") +
geom_line(aes(color = AMCType, linetype = AMCType), size = 2, alpha = I(0.9)) +
scale_color_discrete(name = "") +
scale_linetype_discrete(name = "") +
scale_x_continuous(limits = c(1980, 2011)) +
xlab("") + ylab("Number of Countries\n") +
theme_bw(base_size = 15)
print(OperatingPlot)
OperatingPlot <- ggplot(data = SumOp, aes(year, V1)) +
geom_vline(xintercept = c(1991, 1997, 2008), size = 0.5, color = "#DEDEDE") +
geom_line(aes(color = AMCType, linetype = AMCType), size = 2, alpha = I(0.9)) +
scale_color_discrete(name = "") +
scale_linetype_discrete(name = "") +
scale_x_continuous(limits = c(1980, 2011)) +
xlab("") + ylab("Number of Countries\n") +
theme_bw(base_size = 15)
print(OperatingPlot)
SumOp <- subset(NotNaAMCType, AMCType !=  "?")
SumOp <- subset(SumOp, AMCType !=  "None")
SumOpAll <- ddply(Sumop, .(year), function(x) sum(x$NumAMCOpNoNA))
OperatingAllPlot <- ggplot(data = SumOpA;;, aes(year, V1)) +
geom_vline(xintercept = c(1991, 1997, 2008), size = 0.5, color = "#DEDEDE") +
geom_line(size = 2, alpha = I(0.9)) +
scale_x_continuous(limits = c(1980, 2011)) +
xlab("") + ylab("Number of Countries\n") +
theme_bw(base_size = 15)
print(OperatingAllPlot)
OperatingAllPlot <- ggplot(data = SumOpAll, aes(year, V1)) +
geom_vline(xintercept = c(1991, 1997, 2008), size = 0.5, color = "#DEDEDE") +
geom_line(size = 2, alpha = I(0.9)) +
scale_x_continuous(limits = c(1980, 2011)) +
xlab("") + ylab("Number of Countries\n") +
theme_bw(base_size = 15)
print(OperatingAllPlot)
SumOpAll <- ddply(Sumop, .(year), function(x) sum(x$NumAMCOpNoNA))
SumOpAll <- ddply(SumOp, .(year), function(x) sum(x$NumAMCOpNoNA))
OperatingAllPlot <- ggplot(data = SumOpAll, aes(year, V1)) +
geom_vline(xintercept = c(1991, 1997, 2008), size = 0.5, color = "#DEDEDE") +
geom_line(size = 2, alpha = I(0.9)) +
scale_x_continuous(limits = c(1980, 2011)) +
xlab("") + ylab("Number of Countries\n") +
theme_bw(base_size = 15)
print(OperatingAllPlot)
library(gridExtra)
?gridArrange
OperatingTypePlot <- ggplot(data = SumOp, aes(year, V1)) +
geom_vline(xintercept = c(1991, 1997, 2008), size = 0.5, color = "#DEDEDE") +
geom_line(aes(color = AMCType, linetype = AMCType), size = 2, alpha = I(0.9)) +
scale_color_discrete(name = "") +
scale_linetype_discrete(name = "") +
scale_x_continuous(limits = c(1980, 2011)) +
xlab("") + ylab("Number of Countries\n") +
theme_bw(base_size = 15)
gridArrange(OperatingAllPlot, OperatingTypePlot, ncol = 2)
grid.arrange(OperatingAllPlot, OperatingTypePlot, ncol = 2)
OperatingTypePlot <- ggplot(data = SumOp, aes(year, V1)) +
geom_vline(xintercept = c(1991, 1997, 2008), size = 0.5, color = "#DEDEDE") +
geom_line(aes(color = AMCType, linetype = AMCType), size = 2, alpha = I(0.9)) +
scale_color_discrete(name = "") +
scale_linetype_discrete(name = "") +
scale_x_continuous(limits = c(1980, 2011)) +
xlab("") + ylab("Number of Countries\n") +
theme_bw(base_size = 15)
print(OperatingTypePlot)
rstudio::viewData(SumOp)
# Number operating by type
SumOp$Marker[SumOp$NumAMCOpNoNA >= 1] <- 1
SumOp <- ddply(SumOp, .(year, AMCType), function(x) sum(x$Marker))
OperatingTypePlot <- ggplot(data = SumOp, aes(year, V1)) +
geom_vline(xintercept = c(1991, 1997, 2008), size = 0.5, color = "#DEDEDE") +
geom_line(aes(color = AMCType, linetype = AMCType), size = 2, alpha = I(0.9)) +
scale_color_discrete(name = "") +
scale_linetype_discrete(name = "") +
scale_x_continuous(limits = c(1980, 2011)) +
xlab("") + ylab("Number of Countries\n") +
theme_bw(base_size = 15)
grid.arrange(OperatingAllPlot, OperatingTypePlot, ncol = 2)
# Number Operating
SumOp <- subset(NotNaAMCType, AMCType !=  "?")
SumOp <- subset(SumOp, AMCType !=  "None")
#SumOpAll <- ddply(SumOp, .(year), function(x) sum(x$NumAMCOpNoNA))
#OperatingAllPlot <- ggplot(data = SumOpAll, aes(year, V1)) +
#  geom_vline(xintercept = c(1991, 1997, 2008), size = 0.5, color = "#DEDEDE") +
#  geom_line(size = 2, alpha = I(0.9)) +
#  scale_x_continuous(limits = c(1980, 2011)) +
#  xlab("") + ylab("Number of AMCs Operating\n") +
#  theme_bw(base_size = 15)
# Number operating by type
SumOp$Marker[SumOp$NumAMCOpNoNA >= 1] <- 1
SumOp <- ddply(SumOp, .(year, AMCType), function(x) sum(x$Marker))
OperatingTypePlot <- ggplot(data = SumOp, aes(year, V1)) +
geom_vline(xintercept = c(1991, 1997, 2008), size = 0.5, color = "#DEDEDE") +
geom_line(aes(color = AMCType, linetype = AMCType), size = 2, alpha = I(0.9)) +
scale_color_discrete(name = "") +
scale_linetype_discrete(name = "") +
scale_x_continuous(limits = c(1980, 2011)) +
xlab("") + ylab("Number of Countries\n") +
theme_bw(base_size = 15)
#grid.arrange(OperatingAllPlot, OperatingTypePlot, ncol = 2)
print(OperaratingTypePlot)
source_url("https://raw.github.com/christophergandrud/amcData/master/SourceCode/Paper1Source/PaperDataLoadClean.R")
#### Cumulative Count ####
TypeColors <- c("#E6AB02", "#1B9E77")
# Number Operating
SumOp <- subset(NotNaAMCType, AMCType !=  "?")
SumOp <- subset(SumOp, AMCType !=  "None")
#SumOpAll <- ddply(SumOp, .(year), function(x) sum(x$NumAMCOpNoNA))
#OperatingAllPlot <- ggplot(data = SumOpAll, aes(year, V1)) +
#  geom_vline(xintercept = c(1991, 1997, 2008), size = 0.5, color = "#DEDEDE") +
#  geom_line(size = 2, alpha = I(0.9)) +
#  scale_x_continuous(limits = c(1980, 2011)) +
#  xlab("") + ylab("Number of AMCs Operating\n") +
#  theme_bw(base_size = 15)
# Number operating by type
SumOp$Marker[SumOp$NumAMCOpNoNA >= 1] <- 1
SumOp <- ddply(SumOp, .(year, AMCType), function(x) sum(x$Marker))
OperatingTypePlot <- ggplot(data = SumOp, aes(year, V1)) +
geom_vline(xintercept = c(1991, 1997, 2008), size = 0.5, color = "#DEDEDE") +
geom_line(aes(color = AMCType, linetype = AMCType), size = 2, alpha = I(0.9)) +
scale_color_discrete(name = "") +
scale_linetype_discrete(name = "") +
scale_x_continuous(limits = c(1980, 2011)) +
xlab("") + ylab("Number of Countries\n") +
theme_bw(base_size = 15)
print(OperaratingTypePlot)
source_url("https://raw.github.com/christophergandrud/amcData/master/SourceCode/Paper1Source/PaperDataLoadClean.R")
# Number Operating
SumOp <- subset(NotNaAMCType, AMCType !=  "?")
SumOp <- subset(SumOp, AMCType !=  "None")
#SumOpAll <- ddply(SumOp, .(year), function(x) sum(x$NumAMCOpNoNA))
#OperatingAllPlot <- ggplot(data = SumOpAll, aes(year, V1)) +
#  geom_vline(xintercept = c(1991, 1997, 2008), size = 0.5, color = "#DEDEDE") +
#  geom_line(size = 2, alpha = I(0.9)) +
#  scale_x_continuous(limits = c(1980, 2011)) +
#  xlab("") + ylab("Number of AMCs Operating\n") +
#  theme_bw(base_size = 15)
# Number operating by type
SumOp$Marker[SumOp$NumAMCOpNoNA >= 1] <- 1
SumOp <- ddply(SumOp, .(year, AMCType), function(x) sum(x$Marker))
OperatingTypePlot <- ggplot(data = SumOp, aes(year, V1)) +
geom_vline(xintercept = c(1991, 1997, 2008), size = 0.5, color = "#DEDEDE") +
geom_line(aes(color = AMCType, linetype = AMCType), size = 2, alpha = I(0.9)) +
scale_color_discrete(name = "") +
scale_linetype_discrete(name = "") +
scale_x_continuous(limits = c(1980, 2011)) +
xlab("") + ylab("Number of Countries\n") +
theme_bw(base_size = 15)
print(OperaratingTypePlot)
#grid.arrange(OperatingAllPlot, OperatingTypePlot, ncol = 2)
rstudio::viewData(SumOp)
SumOp <- subset(NotNaAMCType, AMCType !=  "?")
SumOp <- subset(SumOp, AMCType !=  "None")
SumOp$Marker[SumOp$NumAMCOpNoNA >= 1] <- 1
SumOp <- ddply(SumOp, .(year, AMCType), function(x) sum(x$Marker))
OperatingTypePlot <- ggplot(data = SumOp, aes(year, V1)) +
geom_vline(xintercept = c(1991, 1997, 2008), size = 0.5, color = "#DEDEDE") +
geom_line(aes(color = AMCType, linetype = AMCType), size = 2, alpha = I(0.9)) +
scale_color_discrete(name = "") +
scale_linetype_discrete(name = "") +
scale_x_continuous(limits = c(1980, 2011)) +
xlab("") + ylab("Number of Countries\n") +
theme_bw(base_size = 15)
print(OperaratingTypePlot)
print(OperatingTypePlot)
rstudio::viewData(NotNaAMCType)
